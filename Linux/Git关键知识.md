---
title: Git关键知识
categories: 工具
tags:	
	- 工具
---



# Git关键知识

最简单的版本控制就是对工作目录下的所有文件进行完整备份，Git就是利用这个简单思路进行的，这也是版本控制的本质，即我们能够找到并恢复至某次备份。只是Git能够帮我们解决那种手动备份的问题。1、自动化备份，不会出现遗漏。2、自动组织每次备份之间的关系。3、当备份存在某些不合理时，能给出相应提示。

### WorkSpace、Staged、Last Commit

3个存储区是Git进行版本控制的关键操作部分，对于这三个工作区我们可以通俗理解成为文件夹的阶段完整备份。Workspace就是我们的当前文件夹，我们所有的修改都是直接操作的WorkSpace空间，这部分空间中的资料在工作流中往往是最新的。Staged是Git提供的一种缓冲机制，我们每次提交时，需要先提交到Staged中，然后从Staged中提交至仓库。Last Commit是HEAD指向的commit，其一般有如下作用，1、用于diff，查看staged阶段所做的修改。2、从HEAD中恢复数据至Staged或者Workspace。这三个工作区之间的关系可以有如下关系： 代码崭新程度：WorkSpace > Staged > Last Commit，我们的修改过程一般为WorkSpace 覆写 Staged、 Staged 覆写 Last Commit。其中对Last Commit覆写时，并不会直接修改当前Commit，而是在其后创建一个新的Commit，并将Staged存储进去。

### Repository Commit对象

我们的每次提交都是一个Commit对象，这个对象包含如下基本属性。

1. Commit对象的Hash值: 此Commit对象的唯一标识

   > 我们在checkout、reset过程中，想要跳转到任意commit节点是就需要依托于此唯一标识，这也是每个commit节点的唯一ID。

2. 提交的描述信息

   > log中展示的消息，能够让人看懂每个提交的意义，并且我们可以在这部分描述信息中书写格式化数据，来存储我们需要的额外数据。

**commit对象的单向链表结构**

commit对象只能获取到其前一个commit对象的位置，并不能获取到后一个commit对象。这种结构意味着如果我们移动了分支的位置，将可能导致部分commit节点无法索引到。这就是为什么我们删除分支之后，那条路径的commit全部消失的原因，其实并不是我们将其删除了，而是我们失去了查找这些commit的节点路径。在未进行垃圾清理的情况下，我们可能通过commit的HASH值再次定位到commit而重新获取此分支。

### 远程仓库

远程仓库等价于另一台主机上的另一个仓库文件夹。我们每次所做的push、pull操作无非就是同这个文件夹进行对比同步。同步是有方向的，remote->local，local->remote代表了两个方向。为了表示这个逻辑同步过程分为了push和pull两个操作。同步也需要对象，我们有些时候并不希望将整个仓库中的commit节点进行同步，所以产生了远程分支的概念。一方面我们能够看到远程仓库的分支布局，另一方面我们也能细粒度话地控制我们的push和pull行为。远程分支并不意味着这个分支存储于远程，而更多的意味着此分支受控于远程仓库，他是用来标记远程仓库状态用的分支。







